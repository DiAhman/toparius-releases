# Toparius Server Configuration
# Environment variables override these values with TOPARIUS_ prefix:
#   TOPARIUS_SERVER_PORT=9090

server:
  host: "0.0.0.0"
  port: 8080

database:
  # "sqlite" or "postgres"
  driver: "sqlite"
  # For sqlite: file path
  # For postgres: "host=localhost port=5432 user=toparius password=secret dbname=toparius sslmode=disable"
  dsn: "/var/lib/toparius/toparius.db"

auth:
  # CHANGE THIS â€” generate with: openssl rand -hex 32
  jwt_secret: "change-me-in-production-use-openssl-rand-hex-32"
  access_token_ttl: "15m"
  refresh_token_ttl: "168h"  # 7 days

security:
  rate_limit_rps: 20
  rate_limit_burst: 40

# TLS mode: "auto" (self-signed cert, default), "manual" (your own cert), "off" (HTTP only)
tls:
  mode: "auto"
  # For manual mode, uncomment and set paths:
  # cert_file: "/etc/toparius/tls/cert.pem"
  # key_file: "/etc/toparius/tls/key.pem"

updates:
  agent_binary_dir: "/var/lib/toparius/updates"

log:
  level: "info"
  format: "text"
